{
    "contents" : "# Hello, world!\n#\n# This is an example function named 'hello'\n# which prints 'Hello, world!'.\n#\n# You can learn more about package authoring with RStudio at:\n#\n#   http://r-pkgs.had.co.nz/\n#\n# Some useful keyboard shortcuts for package authoring:\n#\n#   Build and Reload Package:  'Cmd + Shift + B'\n#   Check Package:             'Cmd + Shift + E'\n#   Test Package:              'Cmd + Shift + T'\n\n#' @export\n#' @import rmarkdown\n#' @import htmltools\n#' @import ggplot2\n\nlibrary(extrafont)\n\nhello <- function() {\n  print(\"Hello, world!\")\n}\n\ntable_number <- function(label){\n\tif(exists(\"table_labels\")){\n\t\t# figure_list does already exist\n\t\tif(!label%in%table_labels){\n\t\t\tcat(\"not assigned\")\n\t\t\t# figure number not yet assigned\n\t\t\ttable_labels[length(table_labels)+1] <<- label\n\t\t}\n\t} else {\n\t\ttable_labels <<- c()\n\t\ttable_labels[1] <<- label\n\t}\n\twhich(table_labels==label)[1]\n}\n\ntr <- function(label){\n\tif(exists(\"table_labels\")){\n\t\t# figure_list does already exist\n\t\tif(!label%in%table_labels){\n\t\t\tcat(\"not assigned\")\n\t\t\t# figure number not yet assigned\n\t\t\ttable_labels[length(table_labels)+1] <<- label\n\t\t}\n\t} else {\n\t\ttable_labels <<- c()\n\t\ttable_labels[1] <<- label\n\t}\n\tpaste(\"Figure\",which(figure_labels==label)[1])\n}\n\nfigure_number <- function(label){\n\tif(exists(\"figure_labels\")){\n\t\t# figure_list does already exist\n\t\tif(!label%in%figure_labels){\n\t\t\tcat(\"not assigned\")\n\t\t\t# figure number not yet assigned\n\t\t\tfigure_labels[length(figure_labels)+1] <<- label\n\t\t}\n\t} else {\n\t\tfigure_labels <<- c()\n\t\tfigure_labels[1] <<- label\n\t}\n\twhich(figure_labels==label)[1]\n}\n\nfr <- function(label){\n\tif(exists(\"figure_labels\")){\n\t\t# figure_list does already exist\n\t\tif(!label%in%figure_labels){\n\t\t\tcat(\"not assigned\")\n\t\t\t# figure number not yet assigned\n\t\t\tfigure_labels[length(figure_labels)+1] <<- label\n\t\t}\n\t} else {\n\t\tfigure_labels <<- c()\n\t\tfigure_labels[1] <<- label\n\t}\n\tpaste(\"Figure\",which(figure_labels==label)[1])\n}\n\nreport <- function(toc = TRUE) {\n\t# get the locations of resource files located within the package\n\tcss <- system.file(\"report/style.css\", package = \"JRformats\")\n\theader <- system.file(\"report/header.html\", package = \"JRformats\")\n\tknitr::opts_chunk$set(tidy=FALSE, warning=FALSE, message=FALSE, cache=FALSE,\n\t\t\t\t\t\t\t\t comment=NA, verbose=TRUE, dpi=350,dev=\"png\",wrap=\"main\")\n\tknitr::knit_hooks$set(wrap = function(before, options, envir){\n\t\tif(options$wrap == \"main_fig\"){\n\t\t\toptions$fig.width=4\n\t\t\toptions$fig.height=3\n\t\t\tif (before){\n\t\t\t\tpaste0('<div id=\"',options$label,'\"  class=\"figure main_float\"><p class=\"caption\"><span class=\"figure_num\"> Figure ',figure_number(options$label),'</span> ',options$fig.cap,'</p><p class=\"art\">')\n\t\t\t} else {\n\n\t\t\t\tpaste0('</p></div>')\n\t\t\t}\n\t\t} else if (options$wrap==\"main_table\") {\n\t\t\tif (before){\n\t\t\t\tpaste0('<div id=\"',options$label,'\" class=\"table main_float\">\n<p class=\"caption\"><span class=\"figure_num\"> Table ',table_number(options$label),'</span> ',options$fig.cap,'</p>\n<div class=\"art\">')\n\t\t\t} else {\n\t\t\t\tpaste0('</div></div>')\n\t\t\t}\n\n\t\t} else if (options$wrap==\"small_fig\"){\n\t\t\toptions$fig.width=2\n\t\t\toptions$fig.height=1.5\n\t\t\tif (before){\n\t\t\t\tpaste0('<div id=\"',options$label,'\"  class=\"figure small_float\"><p class=\"caption\">',options$fig.cap,'</p><p class=\"art\">')\n\t\t\t} else {\n\t\t\t\tpaste0('</p></div>')\n\t\t\t}\n\t\t} else {\n\t\t\tif (before){\n\t\t\t\tpaste0('<', options$wrap, '>')\n\t\t\t} else {\n\t\t\t\tpaste0('</', options$wrap, '>')\n\t\t\t}\n\t\t}\n\t})\n\n\t# call the base html_document function\n\trmarkdown::html_document(toc = toc,\n\t\t\t\t\t\t\t\t\t\t\t\t\t fig_width = 6.5,\n\t\t\t\t\t\t\t\t\t\t\t\t\t fig_height = 4,\n\t\t\t\t\t\t\t\t\t\t\t\t\t theme = NULL,\n\t\t\t\t\t\t\t\t\t\t\t\t\t extra_dependencies = list(html_dependency_report(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t \t\t\t\t\t\t\t\t\t\t\t\t\trmarkdown:::html_dependency_jquery()),\n\t\t\t\t\t\t\t\t\t\t\t\t\t self_contained = F)\n}\n\n\nhtml_dependency_report <- function() {\n\thtmltools::htmlDependency(name = \"report\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tversion = \"0.1\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc = system.file(\"report\", package=\"JRformats\"),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstylesheet = \"style.css\")\n}\n\nstandard_theme <- function(){ggplot2::theme(plot.background = ggplot2::element_rect(fill = \"#F3F3F3\",size=0),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t legend.background = ggplot2::element_rect(fill = \"#F3F3F3\"),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t legend.key = ggplot2::element_rect(fill = \"#FFFFFF\"),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t plot.margin = grid::unit(c(1,1,1,1), \"mm\"),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t legend.position=\"bottom\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t text=ggplot2::element_text(family=\"Gentium Plus\"))}\n\n\n",
    "created" : 1453147310041.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4061567540",
    "id" : "8B63220E",
    "lastKnownWriteTime" : 1453994960,
    "path" : "~/Dev/R_packages/JRformats/R/report.R",
    "project_path" : "R/report.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_source"
}